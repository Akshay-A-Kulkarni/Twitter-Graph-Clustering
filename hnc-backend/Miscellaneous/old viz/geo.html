<head>
    <style> body { margin: 0; } </style>
    <script src="https://unpkg.com/dat.gui@0.7.7/build/dat.gui.js"></script>
    <script src="https://unpkg.com/3d-force-graph@1.60.12/dist/3d-force-graph.min.js "></script>
    <script src="https://unpkg.com/three@0.115.0/build/three.js"></script>

    <!--<script src="../../dist/3d-force-graph.js"></script>-->
  </head>
  
  <body>
    <div id="3d-graph"></div>
  
    <script>
    // var geometry = new THREE.CylinderGeometry( 5, 5, 1, 32 );
    var geometry = new THREE.SphereGeometry( 5, 32, 32 );


    function RainBowColor(length, maxLength)
    {
        frequency1=1.666;
        frequency2=2.666;
        frequency3=3.666;
    
        var i = (length * 255 / maxLength);
        var r = Math.round(Math.sin(frequency1 * i + 0) * 127 + 128);
        var g = Math.round(Math.sin(frequency2 * i + 0) * 127 + 128);
        var b = Math.round(Math.sin(frequency3 * i + 0) * 127 + 128);
        return 'rgb(' + r + ',' + g + ',' + b + ')';
    }


      const Graph = ForceGraph3D()
        (document.getElementById('3d-graph'))
          .backgroundColor('black')
          .jsonUrl('https://raw.githubusercontent.com/Akshay-A-Kulkarni/Twitter-Network-Analysis/master/Miscellaneous/ClausetNewmanMoore.json')
          .nodeThreeObject(node => new THREE.Mesh( geometry, new THREE.MeshBasicMaterial({ color: RainBowColor(node.CNM_Label,43)}) ))
          .nodeAutoColorBy('CNM_Label')
    ;
    </script>
  </body>